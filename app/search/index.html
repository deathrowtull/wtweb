<!doctype html>
<html ng-app="WtDirectory" class="no-js" lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>West Texas A&amp;M</title>
        <!-- build:css css/libraries.min.css -->
        <link rel="stylesheet" href="../bower_components/font-awesome/css/font-awesome.css">
        <!-- bower:css -->
        <!-- endbower -->
        <!-- endbuild -->
        <!-- build:css css/app.min.css -->
        <link rel="stylesheet" href="../css/app.css">
        <link rel="stylesheet" href="../css/app_override.css">
        <!-- endbuild -->
        <!-- build:js js/vendor/modernizr.min.js -->
        <script src="../bower_components/modernizr/modernizr.js"></script>
        <!-- endbuild -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/css/swiper.min.css">
    </head>
    <body>
        <div class="off-canvas-wrap" data-offcanvas>
            <div class="inner-wrap">
                <div class="fixed">
                    <nav class="tab-bar color-primary hide-for-large-up" style="border-bottom: #fff thin solid;">
                        <section class="left-small">
                            <a class="left-off-canvas-toggle menu-icon" href="#">
                                <span></span>
                            </a>
                        </section>
                        <section class="middle tab-bar-section">
                            <!--<h1 class="title">WTAMU</h1>-->                            
                            <!--<a class="logotext" href="http://www.wtamu.edu">
                                WTAMU
                            </a>-->
                        </section>
                        <section class="right-small">
                            <a href="http://www.wtamu.edu/search/default.aspx"><i class="fa fa-search"></i></a>
                        </section>
                    </nav>
                    <nav class="top-bar color-primary show-for-large-up" data-topbar role="navigation">
                        <section class="top-bar-section  show-for-large-up">
                            <ul class="title-area">
                                <li class="name">
                                    <a class="logotext" href="../">
                                        West Texas A&amp;M University
                                    </a>
                                </li>
                            </ul>
                        </section>
                        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
                        <section class="top-bar-section">
                            <ul class="right" style="padding-top: 12px;">
                                <li class="has-dropdown">
                                    <a style="line-height: 2rem" href="#">Go To</a>
                                    <ul class="dropdown">
                                        <li><a href="#">Future Students</a></li>
                                        <li><a href="#">Current Students</a></li>
                                        <li><a href="#">Faculty &amp; Staff</a></li>
                                        <li><a href="#">Alumni &amp; Friends</a></li>
                                        <li><a href="#">Parents &amp; Family</a></li>
                                        <li><a href="#">Visitors</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="az.html" class="button expand">
                                        A-Z
                                    </a>   
                                </li>
                                <li>
                                    <a href="http://www.wtamu.edu/search" class="button expand">
                                        <i class="fa fa-search" style="margin-top: -1px;"></i>
                                    </a>
                                </li>
                            </ul>
                        </section>
                    </nav>
                    <nav class="top-bar color-secondary scroll-hide" data-topbar role="navigation" style="border-bottom: #581818 thin solid;">
                        <div class="logo-wrapper">
                            <div class="logo">
                                <img alt="image" src="../images/spirit.png">
                            </div>
                        </div>
                        <section class="top-bar-section show-for-large-up">
                            <ul class="left">
                                <li>
                                    <a href="/about/about-wtamu.aspx">About</a>
                                </li>
                                <li>
                                    <a href="/admissionshub/default.aspx">Admissions</a>
                                </li>
                                <li>
                                    <a href="/academics/default.aspx">Academics</a>
                                </li>
                            </ul>
                            <ul class="right">
                                <li>
                                    <a href="/student-support/default.aspx">Student Support</a>
                                </li>
                                <li>
                                    <a href="/giving/default.aspx">Giving</a>
                                </li>
                                <li>
                                    <a href="/administration/veterans-services.aspx">Veterans</a>
                                </li>
                            </ul>
                        </section>
                    </nav>                    
                </div>
                <aside class="left-off-canvas-menu">
                    <ul class="off-canvas-list">
                        <li>
                            <label>WTAMU</label>
                        </li>
                        <li>
                            <a href="/about/about-wtamu.aspx">About</a>
                        </li>
                        <li>
                            <a href="/admissionshub/default.aspx">Admissions</a>
                        </li>
                        <li>
                            <a href="/academics/default.aspx">Academics</a>
                        </li>
                        <li>
                            <a href="/student-support/default.aspx">Student Support</a>
                        </li>
                        <li>
                            <a href="/giving/default.aspx">Giving</a>
                        </li>
                        <li>
                            <a href="/administration/veterans-services.aspx">Veterans</a>
                        </li>

                        <li>
                            <label>Audience</label>
                        </li>
                        <li>
                            <a href="http://www.wtamu.edu/home/future-students.aspx">Future Students</a>
                        </li>
                        <li>
                            <a href="http://www.wtamu.edu/home/current-students.aspx">Current Students</a>
                        </li>
                        <li>
                            <a href="http://www.wtamu.edu/home/faculty-staff.aspx">Faculty &amp; Staff</a>
                        </li>
                        <li>
                            <a href="http://www.buffalum.com/">Alumni &amp; Friends</a>
                        </li>
                        <li>
                            <a href="http://www.wtamu.edu/home/visitors.aspx">Parents &amp; Family</a>
                        </li>
                        <li>
                            <a href="http://www.wtamu.edu/home/visitors.aspx">Visitors</a>
                        </li>
                    </ul>
                </aside>                
                <section class="main-section">
                    <div class="row">
                        <div class="small-12 small-centered medium-10 medium-centered columns" style="padding-top: 1rem">
                            <ul class="breadcrumbs">
                                <li><a href="../">WTAMU</a></li>
                                <li class="unavailable"><a href="#">Directory</a></li>
                            </ul>
                            <h1>Search</h1>                            

                            <div id="tabs" class="tabs" style="padding-bottom: 30px">
                                <ul>
                                    <li><a href="#tabs-2">Directory</a></li>
                                    <li><a href="#tabs-1">Google</a></li>    
                                    <li><a href="#tabs-3">Experts</a></li>
                                </ul>
                                <div id="tabs-1" class="">
                                    <div class="small-12 columns color-tertiary" style="padding: 15px 15px 0px 15px" >
                                        <form action="./" id="searchWeb" method="get">
                                            <div class="search-field">
                                                <input aria-labelledby="search-label" id="search_text_box" name="q" placeholder="Search WT" role="textbox" type="search"
                                                style="font-size: 15px;"/>
                                                <!--<input type="submit" value="Search" style="font-size: 15px; width: 10%"/>-->
                                            </div>
                                        </form>
                                    </div>

                                    <script type="text/javascript">// <![CDATA[                                                        
                                        var imgAltTagsFix = function() {
                                            var gscSearch = document.querySelector('input.gsc-search-button');
                                            //var gscBranding = document.querySelector('.gcsc-branding');
                                            gscSearch.setAttribute('alt', 'Google Custom Search Button');
                                            //gscBranding.setAttribute('aria-hidden', 'True');
                                        };
                                        window.__gcse = {
                                            callback: imgAltTagsFix
                                        };
                                        (function() {
                                            var cx = '017207163629162198634:3oziw4igxw8';
                                            var gcse = document.createElement('script');
                                            gcse.type = 'text/javascript';
                                            gcse.async = true;
                                            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                                            '//www.google.com/cse/cse.js?cx=' + cx;
                                            var s = document.getElementsByTagName('script')[0];
                                            s.parentNode.insertBefore(gcse, s);
                                          })();
                                        // ]]>
                                            
                                    </script>                                    
                                    <div class="gcse-searchresults-only" data-linktarget="_parent">&#160;</div>
                                </div>
                                <div id="tabs-2" ng-controller="directorySearch">
                                    <div class="small-12 columns color-tertiary" style="padding: 15px 15px 0px 15px" >
                                        <label  class="">
                                            <form ng-submit="submit()">
                                                <input type="text" ng-model="search" placeholder="Search People" pattern=".{3,}" required title="3 characters are required to search" ng-model-options="{debounce: 500}"/>
                                                <input type="submit" id="submit" value="Submit" />
                                            </form>
                                        </label>
                                    </div>
                                    <ul class="small-block-grid-1 medium-block-grid-2 directory">
                                        <!-- filters to just the name portion-->
                                        <li class="animation" ng-repeat="person in people" style="padding-left: 0">
                                            <h3>{{person.fname}} {{person.lname}}</h3>                                            
                                            <div class="caption small-12 medium-12 large-6" style="float: left">
                                                <strong>Title:</strong> {{person.title}}<br />
                                                <strong>Location:</strong> {{person.building}} {{person.room}}<br />
                                                <p class="hide">{{person.expertise}}</p>
                                                <a href="tel:{{person.phone}}">{{person.phone}}</a><br />
                                                <a href="mailto:{{person.email}}">{{person.email}}</a>                                        
                                            </div>
                                            <div class="small-12 medium-12 large-6 ">
                                                <div class="small-8 small-centered columns">
                                                    <img src="http://apps.wtamu.edu{{person.imgUrl}}" />
                                                </div>
                                            </div>
                                            <div class="text-right hide" >
                                                <a href="#" class="button small-12 large-6">View Biography</a>
                                            </div>
                                        </li>
                                    </ul>
                                
                                </div>
                                        <div id="tabs-3" ng-controller="expertSearch">
                                            <div class="small-12 columns color-tertiary" style="padding: 15px 15px 0px 15px">
                                                <!--<label  class="">
                                                <input id="expertq" type="text" ng-model="search.$" placeholder="Search People"/>
                                                /label>-->
                                        
                                                <select name="repeatSelect" id="repeatSelect" ng-model="search.expertgroup.expertise">
                                                   <option value="" disabled selected>Select Expertise</option>
                                                   <option ng-repeat="option in data.availableOptions" value="{{option.name}}">{{option.name}}</option>
                                                </select>
                                        
                                            </div>
                                            
                                              <ul class="small-block-grid-1 medium-block-grid-2 directory">
                                        <!-- filters to just the name portion-->
                                        <li class="animation" ng-repeat="person in people | filter:search track by $index  " style="padding-left: 0">
                                            <h3>{{person.designation}} {{person.fname}} {{person.lname}}</h3>                                            
                                            <div class="caption small-12 medium-12 large-6" style="float: left">
                                                <strong>Title:</strong> {{person.title}}<br />
                                                <strong>Location:</strong> {{person.building}} {{person.room}}<br />
                                                <p class="hide">{{person.expertise}}</p>
                                                <a href="tel:{{person.phone}}">{{person.phone}}</a><br />
                                                <a href="mailto:{{person.email}}">{{person.email}}</a>                                        
                                            </div>
                                            <div class="small-12 medium-12 large-6 dimage">
                                                <div class="small-8 small-centered columns">
                                                    <img src="http://cascadetest.wtamu.edu/test/directory/{{person.thumb}}" />
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <a href="#" class="button small-12 large-6">View Biography</a>
                                            </div>
                                        </li>
                                    </ul>
                                            
                                      </div>
                                        
                                 </div>
                                        
                             </div>
                    

                    <div class="footer row color-primary">
                        <div class="small-12 small-centered medium-10 medium-centered columns ">
                            <ul class="small-block-grid-1 small-centered medium-block-grid-2">
                                <li class="logo">
                                    <a href="#" class="expand">
                                        <img style="width: auto" alt="The Texas A&M System" src="http://www.wtamu.edu/images/MemberTAMUS.png">
                                    </a>
                                </li>
                                <li class="reg" style="font-size: .75em;">                                    
                                    <a href="/about/web-accessibility.aspx">Accessibility</a> -
                                    <a href="/home/accreditation.aspx">Accreditation</a> -
                                    <a href="/administration/11-consumer-information.aspx">Consumer Information</a><br /> 
                                    <a href="/about/contact-us.aspx">Contact Us</a> -
                                    <a href="/about/emergency-information.aspx">Emergency Information</a> -
                                    <a href="/webres/File/Administrative/EnergyManagementReport.pdf" target="_blank">Energy Management Report</a><br /> 
                                    <a href="/ferpa">Family Educational Rights and Privacy Act (FERPA)</a><br /> 
                                    <a href="/home/link-policy-and-privacy-statement.aspx#forms">Form Policy</a> -
                                    <a href="http://www.wtamu.edu/about/house-bill-2504-requirements.aspx">House Bill 2504</a> -
                                    <a href="https://www.tamus.edu/business/budgets-and-accounting/legislative-appropriations-requests/" target="_blank">Legislative Appropriation Request</a><br /> 
                                    <a href="http://gov.texas.gov/" target="_blank">Texas Homeland Security</a> -
                                    <a href="http://wtamu.edu/webres/File/Administrative/university_org_chart.pdf" target="_blank">University Organizational Chart</a><br /> 
                                </li> 
                                                                
                            </ul>                            
                        </div>
                    </div>
                    <div class="row color-secondary">
                        <div class="small-12 small-centered medium-10 medium-centered columns " style="text-align: center; font-size: .75em;">
                            <div>
                                <a target="_blank" href="http://www.state.tx.us/">State of Texas</a> -
                                <a target="_blank" href="http://veterans.portal.texas.gov">Texas Veterans Portal</a> -
                                <a target="_blank" href="https://secure.ethicspoint.com/domain/en/report_custom.asp?clientid=19681">Risk, Fraud and Misconduct Hotline</a> -
                                <a target="_blank" href="https://www.tsl.state.tx.us/search/node/">Statewide Search</a> -
                                <a href="/home/link-policy-and-privacy-statement.aspx">Link Policy and Privacy Statement</a> -
                                <a href="/about/open-records.aspx">Open Records/Public Information Act</a> -
                                <a href="http://www.wtamu.edu/about/equal-opportunity-nondiscrimination.aspx">Equal Opportunity/Nondiscrimination </a> -
                                <a target="_blank" href="http://www.txhighereddata.org/approot/resumes/ir_launch.htm">Online Institutional Resumes</a> -
                                <a target="_blank" href="http://www.thecb.state.tx.us/apps/txcrews/">Texas Consumer Resource for Education and Workforce Statistics (Texas CREWS) </a>
                            </div>
                            <br /> © West Texas A&amp;M University | All rights Reserved | Canyon, Tx 79016 |
                            <a href="tel:806-290-0000">806-290-0000</a>
                        </div>
                    </div>
                </section>   
            </div>
        </div>     
        <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
        <script src="../bower_components/x2js-master/xml2json.min.js"></script>
        <!-- build:js js/vendor/libraries.min.js -->
        <!-- bower:js -->
        <script src="../bower_components/fastclick/lib/fastclick.js"></script>
        <script src="../bower_components/jquery.cookie/jquery.cookie.js"></script>
        <!-- endbower -->
        <!-- endbuild -->
        <!-- build:js js/vendor/foundation.min.js -->
        <script src="../bower_components/foundation/js/foundation/foundation.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.abide.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.accordion.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.alert.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.clearing.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.dropdown.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.equalizer.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.interchange.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.joyride.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.magellan.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.offcanvas.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.orbit.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.reveal.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.slider.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.tab.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.tooltip.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.topbar.js"></script>
        <!-- endbuild -->        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/js/swiper.jquery.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.6/angular-animate.js"></script>
        <!-- build:js js/app.min.js -->
        <script src="../js/app.js"></script>
        <!-- endbuild -->
        <script src="../js/init.js"></script>

        <script>               
            function getParameterByName(name, url) {
                if (!url) {
                  url = window.location.href;
                }
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return '';
                    return decodeURIComponent(results[2].replace(/\+/g, " "));
            }

            var q = getParameterByName('q');            
            $('#search_text_box').val(q);
        
            var App = angular.module('WtDirectory', ['ngAnimate']);

            App.controller('directorySearch', function($scope, $http) {

                $scope.people = [];

                $scope.list = [];
                $scope.text = 'hello';

                $scope.submit = function() {
                    
                    if ($scope.search) {
                        
                        var data = $.param({
                            search: $scope.search,
                            stype: "all",
                            xml_output: 1
                        });
                        
                        var config = {
                            headers : {
                                'Content-Type': 'application/x-www-form-urlencoded'
                            }
                        };
                        
                        $http.post('//apps.wtamu.edu/dir/', data, config)
                        .success(function(data, headers, config){
                            var x2js = new X2JS();
                            var json = x2js.xml_str2json( data );
                            $scope.people = json.directory.results.result;
                            //console.log($scope.people);
                        });
                    }
                };                
            });
            
              $( "#tabs" ).tabs();    
            
            
            App.controller('expertSearch', function($scope, $http) {
               $http.get('./experts.js')
                 .then(function(res) {
                 $scope.people = res.data;
                 console.log($scope.people);
                 
                $scope.data = {
                    model: null,
                    availableOptions: [
                        { name: 'Accounting'},
                        { name: 'Advertising and PR' },
                        { name: 'Agriculture' },
                        { name: 'Agricultural Business and Economics' },
                        { name: 'AIDS and HIV' },
                        { name: 'Alternative Energy' },
                        { name: 'Animal Science' },
                        { name: 'Art' },
                        { name: 'Banking' },
                        { name: 'Biology' },
                        { name: 'Business Communication' },
                        { name: 'Campus/Student Life' },
                        { name: 'Chemistry' },
                        { name: 'Child Development and Early Education' },
                        { name: 'Codicology' },
                        { name: 'Communication Disorders' },
                        { name: 'Communication Studies' },
                        { name: 'Criminal Justice' },
                        { name: 'Curriculum Development' },
                        { name: 'Dance' },
                        { name: 'Disaster Planning' },
                        { name: 'Distance Education and Instructional Technology' },
                        { name: 'Diversity Issues/Multiculturalism' },
                        { name: 'Economics' },
                        { name: 'Education' },
                        { name: 'Energy Resources' },
                        { name: 'Engineering and Engineering Technology' },
                        { name: 'English Language' },
                        { name: 'Environmental Science' },
                        { name: 'Finance' },
                        { name: 'Foreign Language/Cultures' },
                        { name: 'Geography' },
                        { name: 'Geology' },
                        { name: 'Health, Nursing and Medical Issues' },
                        { name: 'Higher Education' },
                        { name: 'History' },
                        { name: 'Information Technology' },
                        { name: 'International Business and Trade' },
                        { name: 'Law and Legal Issues' },
                        { name: 'Leadership' },
                        { name: 'Learning Styles/Teaching Methods' },
                        { name: 'Literacy and Reading' },
                        { name: 'Literature' },
                        { name: 'Management' },
                        { name: 'Marketing' },
                        { name: 'Marriage and Family' },
                        { name: 'Mass Communication/Media' },
                        { name: 'Mathematics' },
                        { name: 'Music' },
                        { name: 'Organizational Behavior' },
                        { name: 'Physical Education, Recreation and Leisure' },
                        { name: 'Plant Science' },
                        { name: 'Politics and Government' },
                        { name: 'Pop Culture' },
                        { name: 'Psychology' },
                        { name: 'Religion' },
                        { name: 'Science Education' },
                        { name: 'Sociology/Social Work' },
                        { name: 'Soil Science/Management' },
                        { name: 'Spanish Language' },
                        { name: 'Statistics' },
                        { name: 'Strategic Planning' },
                        { name: 'Terrorism' },
                        { name: 'Theatre' },
                        { name: 'Transportation' },
                        { name: 'Writing' }
                    ]
                };
                (window.angular);
                
                 });
            });
            
            

            $( "#tabs" ).tabs();            
            
        </script>
    </body>
</html>